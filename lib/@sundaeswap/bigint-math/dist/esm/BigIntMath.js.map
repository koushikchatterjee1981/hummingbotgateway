{"version":3,"file":"BigIntMath.js","names":["max","values","length","i","min","sign","value","abs","rootNth","k","Error","o","x","limit","sqrt"],"sources":["../../src/BigIntMath.ts"],"sourcesContent":["export function max(...values: bigint[]) {\n  if (values.length === 0) {\n    return null;\n  }\n\n  if (values.length === 1) {\n    return values[0];\n  }\n\n  let max = values[0];\n  for (let i = 1; i < values.length; i++) {\n    if (values[i] > max) {\n      max = values[i];\n    }\n  }\n  return max;\n}\n\nexport function min(...values: bigint[]) {\n  if (values.length === 0) {\n    return null;\n  }\n\n  if (values.length === 1) {\n    return values[0];\n  }\n\n  let min = values[0];\n  for (let i = 1; i < values.length; i++) {\n    if (values[i] < min) {\n      min = values[i];\n    }\n  }\n  return min;\n}\n\nexport function sign(value: bigint) {\n  if (value > 0n) {\n    return 1n;\n  }\n  if (value < 0n) {\n    return -1n;\n  }\n  return 0n;\n}\n\nexport function abs(value: bigint) {\n  if (sign(value) === -1n) {\n    return -value;\n  }\n  return value;\n}\n\n// https://stackoverflow.com/questions/53683995/javascript-big-integer-square-root/58863398#58863398\nexport function rootNth(value: bigint, k = 2n) {\n  if (value < 0n) {\n    throw new Error(\"negative number is not supported\");\n  }\n\n  let o = 0n;\n  let x = value;\n  let limit = 100;\n\n  while (x ** k !== k && x !== o && --limit) {\n    o = x;\n    x = ((k - 1n) * x + value / x ** (k - 1n)) / k;\n  }\n\n  return x;\n}\n\nexport function sqrt(value: bigint) {\n  return rootNth(value);\n}\n"],"mappings":"AAAA,OAAO,SAASA,GAAGA,CAAC,GAAGC,MAAgB,EAAE;EACvC,IAAIA,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;IACvB,OAAO,IAAI;EACb;EAEA,IAAID,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;IACvB,OAAOD,MAAM,CAAC,CAAC,CAAC;EAClB;EAEA,IAAID,GAAG,GAAGC,MAAM,CAAC,CAAC,CAAC;EACnB,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;IACtC,IAAIF,MAAM,CAACE,CAAC,CAAC,GAAGH,GAAG,EAAE;MACnBA,GAAG,GAAGC,MAAM,CAACE,CAAC,CAAC;IACjB;EACF;EACA,OAAOH,GAAG;AACZ;AAEA,OAAO,SAASI,GAAGA,CAAC,GAAGH,MAAgB,EAAE;EACvC,IAAIA,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;IACvB,OAAO,IAAI;EACb;EAEA,IAAID,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;IACvB,OAAOD,MAAM,CAAC,CAAC,CAAC;EAClB;EAEA,IAAIG,GAAG,GAAGH,MAAM,CAAC,CAAC,CAAC;EACnB,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;IACtC,IAAIF,MAAM,CAACE,CAAC,CAAC,GAAGC,GAAG,EAAE;MACnBA,GAAG,GAAGH,MAAM,CAACE,CAAC,CAAC;IACjB;EACF;EACA,OAAOC,GAAG;AACZ;AAEA,OAAO,SAASC,IAAIA,CAACC,KAAa,EAAE;EAClC,IAAIA,KAAK,GAAG,EAAE,EAAE;IACd,OAAO,EAAE;EACX;EACA,IAAIA,KAAK,GAAG,EAAE,EAAE;IACd,OAAO,CAAC,EAAE;EACZ;EACA,OAAO,EAAE;AACX;AAEA,OAAO,SAASC,GAAGA,CAACD,KAAa,EAAE;EACjC,IAAID,IAAI,CAACC,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE;IACvB,OAAO,CAACA,KAAK;EACf;EACA,OAAOA,KAAK;AACd;;AAEA;AACA,OAAO,SAASE,OAAOA,CAACF,KAAa,EAAEG,CAAC,GAAG,EAAE,EAAE;EAC7C,IAAIH,KAAK,GAAG,EAAE,EAAE;IACd,MAAM,IAAII,KAAK,CAAC,kCAAkC,CAAC;EACrD;EAEA,IAAIC,CAAC,GAAG,EAAE;EACV,IAAIC,CAAC,GAAGN,KAAK;EACb,IAAIO,KAAK,GAAG,GAAG;EAEf,OAAOD,CAAC,IAAIH,CAAC,KAAKA,CAAC,IAAIG,CAAC,KAAKD,CAAC,IAAI,EAAEE,KAAK,EAAE;IACzCF,CAAC,GAAGC,CAAC;IACLA,CAAC,GAAG,CAAC,CAACH,CAAC,GAAG,EAAE,IAAIG,CAAC,GAAGN,KAAK,GAAGM,CAAC,KAAKH,CAAC,GAAG,EAAE,CAAC,IAAIA,CAAC;EAChD;EAEA,OAAOG,CAAC;AACV;AAEA,OAAO,SAASE,IAAIA,CAACR,KAAa,EAAE;EAClC,OAAOE,OAAO,CAACF,KAAK,CAAC;AACvB","ignoreList":[]}